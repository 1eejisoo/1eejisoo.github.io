---
title: "[Java의 정석] 객체지향 프로그래밍 - 클래스와 객체"
categories:
  - java
tags:
  - Java의 정석
toc_label: "목차"
toc: true
toc_sticky: true
date: 2022-11-29
---

<details><summary><b>reference</b></summary>
Java의 정석 3rd Edition을 학습하고 정리한 내용입니다.
</details>

<b>

# 1. 클래스와 객체의 정의와 용도

## 클래스의 정의와 용도

- 정의: 객체를 정의해 놓은 것, 객체의 설계도 또는 틀
- 용도: 객체를 생성하는데 사용된다.

## 객체의 정의와 용도

- 정의: 실제로 존재하는 것. 사물 또는 개념
- 용도: 객체가 가지고 있는 기능과 속성에 따라 다르다.

<br>

Tv를 예로 들어보자. 클래스와 객체의 정의에 따르면 

`TV` = `객체` 

`TV 설계도` = `클래스`

라고 정의할 수 있다. 우리가 TV를 보기 위해서는 **TV(객체)**가 필요한 것이지 **TV설계도(클래스)**가 필요한 것은 아니다. TV 설계도(클래스)는 단지 TV라는 제품(객체)을 만드는 데만 사용될 뿐이다. 또한 TV설계도를 통해 TV(객체)가 만들어진 후에야 사용할 수 있다. 

따라서 프로그래밍에서는 <u><b>(1) 클래스를 먼저 작성한 다음</b></u>, <u><b>(2) 클래스로부터 객체를 생성하여 사용한다.</b></u>

<br>

<br>

# 2. 객체와 인스턴스

- ``인스턴스화(instantiate)`` : 클래스로부터 객체를 만드는 과정을 <u>클래스의 인스턴스화</u>라고 한다.

- ``인스턴스(instance)`` : 어떤 클래스로부터 만들어진 객체를 그 <u>클래스의 인스턴스</u>라고 한다.

- `객체` : 모든 인스턴스를 대표하는 포괄적인 의미
- `인스턴스` : 어떤 클래스로부터 만들어진 것인지를 강조하는 보다 구체적인 의미

TV를 예로 생각해보자. TV 클래스로부터 만들어진 객체를 TV 클래스의 인스턴스라고 한다.

결국 객체와 인스턴스는 같은 의미이지만 문맥에 맞게 사용하는 것이 자연스럽다. 

## 💡 문맥에 따른 인스턴스와 객체?

- ``책상은 인스턴스다.`` 보다는 ``책상은 객체다.``라는 쪽이 더 자연스럽다.
- ```책상은 책상 클래스의 객체이다.``` 보다는 ```책상은 책상 클래스의 인스턴스다.``` 라는 쪽이 더 자연스럽다.

<br>

<br>

# 3. 객체의 구성 요소

일반적으로 객체는 다수의 속성과 다수의 기능을 가지며, **속성과 기능의 집합**이라고 할 수 있다.

- ``속성(property)``  : 멤버변수(member variable), 특성(attribute), 필드(field), 상태(state)
- ``기능(function)`` : 메서드(method), 함수(function), 행위(behavior)

## 💡 객체지향 프로그래밍에서의 속성과 기능

TV를 떠올려보자. TV의 속성과 기능 중 몇 가지를 아래와 같다.

- **속성** : 색상, 전원 상태, 채널
- **기능** : 전원 켜기/끄기, 채널 변경하기

객체지향 프로그래밍에서는 `속성`과 `기능`을 각각 ``변수`` 와 ``메서드``로 표현한다. 

위에서 언급한 TV의 속성과 기능을 Tv 클래스에서의 변수와 메서드로 표현하면 아래와 같다. 

<script src="https://gist.github.com/1eejisoo/a91ac445aace46d40ea0d634acdd3def.js"></script>

<br>

<br>

# 4. 인스턴스의 생성과 사용

위의 예시에서 `Tv클래스`를 선언한 것은 `Tv설계도`를 작성한 것에 불과하다. `Tv(제품)` 를 사용하려면 `Tv인스턴스`를 생성해야한다.

**일반적인 인스턴스 생성 방법**

```java
클래스명 변수명;             ex) Tv t;          // Tv 클래스 타입의 참조변수 t 선언
변수명 = new 클래스명();     ex) t = new Tv();    // Tv 인스턴스를 생성한 후, 생성된 Tv 인스턴스의 주소																									를 t에 저장 
```

**인스턴스 사용 방법**

<u>인스턴스는 참조변수를 통해서만 다룰 수 있으며, 참조변수의 타입은 인스턴스 타입과 일치해야 한다.</u>

<br>

Tv클래스로부터 인스턴스를 생성하고, 인스턴스의 속성과 메서드를 사용하는 아래의 예시를 살펴보자.

<script src="https://gist.github.com/1eejisoo/ea45fd9f95ffe7d43951ade21ba30903.js"></script>

**실행결과**

```
현재 채널은 6입니다.
```

<br>

**위의 코드의 Line15 ~ Line19을 그림과 함께 단계별로 살펴보자.**

> <img width="1095" alt="스크린샷 2022-11-30 오전 3 53 16" src="https://user-images.githubusercontent.com/93996283/204620449-f266c698-694a-4f91-abc4-5c33b58b88f1.png">
>
> 
>
> <img width="213" alt="스크린샷 2022-11-30 오전 3 47 21" src="https://user-images.githubusercontent.com/93996283/204619414-8e6fbbbe-e7ad-4307-a963-d75c59161ef8.png">

Tv클래스 타입의 **참조변수 t**를 선언한다. 메모리에 **참조변수 t**를 위한 공간이 마련된다. 하지만 아직 인스턴스가 생성되지 않았기 때문에 참조변수로 아무것도 할 수 없다.

> <img width="1180" alt="스크린샷 2022-11-30 오전 3 55 21" src="https://user-images.githubusercontent.com/93996283/204620752-38efe15f-0047-4da8-8b78-4c230978d6c6.png">
>
> <img width="480" alt="스크린샷 2022-11-30 오전 3 48 38" src="https://user-images.githubusercontent.com/93996283/204619407-204e4cd9-062f-4c08-aaa0-7e8f07c7ab77.png">

 ``new`` 연산자에 의해 Tv 클래스의 인스턴스가 메모리의 빈 공간에 생성된다. 주소가 0X100인 곳에 생성되었다고 가정하자.

이때 멤버변수는 각 자료형에 해당하는 기본값으로 초기화 된다. color는 참조형이므로 null로, power는 boolean이므로 false로, channel은 int이므로 0으로 초기화된다. 그 다음 ``대입연산자(=)``에 의해서 생성된 객체의 주소값이 **참조변수 t**에 저장된다. 

이제는 **참조변수 t** 를 통해 Tv인스턴스에 접근할 수 있다. 

> <img width="1226" alt="스크린샷 2022-11-30 오전 3 53 45" src="https://user-images.githubusercontent.com/93996283/204620438-9e3ecb01-636c-4f61-b9ce-8f6d46f80781.png">
>
> <img width="473" alt="스크린샷 2022-11-30 오전 3 48 55" src="https://user-images.githubusercontent.com/93996283/204619405-f2951c86-ed52-427f-9ca6-a93b1a73c926.png">

**참조변수 t**에 저장된 주소에 있는 인스턴스 멤버변수 ```channel```에 7을 저장한다. 여기서 알 수 있는 것처럼, 인스턴스의 멤버변수(속성)를 사용하려면 `참조변수.멤버변수`와 같이 하면 된다.

> <img width="1227" alt="스크린샷 2022-11-30 오전 3 53 49" src="https://user-images.githubusercontent.com/93996283/204620433-7b1ece9b-0716-456b-9cc5-575bebfa1843.png">
>
> <img width="476" alt="스크린샷 2022-11-30 오전 3 49 07" src="https://user-images.githubusercontent.com/93996283/204619399-c6fd9b83-3cf4-417f-90e1-38411307c0f6.png">

**참조변수 t**가 참조하고 있는 Tv인스턴스의 `channelDown` 메서드를 호출한다. `channelDown`메서드는 멤버변수 `channel`에 저장되어 있는 값을 1 감소시키므로, `channel`의 값은 7에서 6이 된다.

> <img width="1138" alt="스크린샷 2022-11-30 오전 3 53 54" src="https://user-images.githubusercontent.com/93996283/204620423-7edca05a-b992-48bf-be03-7b3df4f41a2a.png">

참조변수 t가 참조하고 있는 Tv인스턴스의 멤버변수 `channel`에 저장되어 있는 값을 출력한다. 현재 `channel`의 값은 6이므로 **'현재 채널은 6입니다.'**가 화면에 출력된다.

<br>

다음으로 아래의 예시를 살펴보자.

<script src="https://gist.github.com/1eejisoo/80b7ab950e1eddd3d7b2725057120b48.js"></script>

**실행결과**

```
t1의 channel값은 0입니다.
t2의 channel값은 0입니다.
t1의 channel값을 7로 변경하였습니다.
t1의 channel값은 7입니다.
t2의 channel값은 7입니다.
```

<br>

**위 코드의 Line 19를 살펴보자**

> <img width="818" alt="스크린샷 2022-11-30 오전 3 57 11" src="https://user-images.githubusercontent.com/93996283/204621101-c8b04a79-919f-4e60-a77f-1c4f5f068dd7.png">

<img width="778" alt="스크린샷 2022-11-30 오전 3 44 56" src="https://user-images.githubusercontent.com/93996283/204618550-fb467000-9548-46ae-a458-4b38c84d9024.png">

t1은 참조변수이므로, 인스턴스의 주소(0X100)를 저장하고 있다. line19가 수행되면 t2가 가지고 있던 값은 잃어버리게 되고, t1에 저장되어 있던 값이 t2에 저장된다. 그렇게 되면 t2 역시 t1이 참조하고 있던 인스턴스를 같이 참조하게 되고, **t2가 원래 참조하고 있던 인스턴스는 더 이상 사용할 수 없게 된다.**[^1]

➡️ 결론적으로 **둘 이상의 참조변수가 하나의 인스턴스를 가리키는(참조하는) 것은 가능하다.** 하지만 참조변수에는 하나의 값(주소)만이 저장될 수 있으므로 **하나의 참조변수로 여러 개의 인스턴스를 가리키는 것은 가능하지 않다.**

<br>

<br>

# 5. 클래스의 또 다른 정의

 클래스는 '객체를 생성하기 위한 틀'이라고 내린 정의는 객체지향이론 관점에서 내린 정의이다. 그렇다면 프로그래밍적 관점에서 내린 클래스의 정의는 어떨까?

## 1. 데이터와 함수의 결합

프로그래밍언어에서 데이터 처리를 위한 데이터 저장 형태의 발전 과정은 다음과 같다.

> **변수 -> 배열 -> 구조체 -> 클래스**

클래스가 나타나기 전까지는 데이터와 함수가 서로 관계가 없는 것처럼 데이터는 데이터끼리, 함수는 함수끼리 따로 이루어져 왔다. 하지만 함수는 주로 데이터를 가지고 작업을 하기 때문에 대다수의 경우에 있어 데이터와 함수는 관계가 깊다.

자바와 같은 객체지향언어에서는 변수(데이터)와 함수를 하나의 클래스에 정의하여 서로 관계가 깊은 변수와 함수들은 함께 다룰 수 있게 했다. **서로 관련된 변수들을 정의하고 이들에 대한 작업을 수행하는 함수들을 함께 정의한 것**이 바로 `클래스`이다.

C언어에서는 문자열을 문자의 배열로 다루지만, 자바에서는 String이라는 클래스로 문자열을 다룬다. 클래스로 정의한 이유는 <u>문자열과 문자열을 다루는데 필요한 함수들을 함께 묶기 위해서이다.</u>

다음은 String 클래스의 실제 소스 일부이다.

<script src="https://gist.github.com/1eejisoo/146b32f5ebe8cdb2848dcfe13ae47218.js"></script>

클래스 내부에 `value`라는 문자형 배열이 선언되어 있고, 문자열을 다루는 데 필요한 함수들을 함께 정의해 놓았다. 변수와 함수가 서로 유기적으로 연결되어 작업이 간단하고 명료해진다.

<br>

## 2. 사용자 정의 타입(user-defined type)

> **사용자 정의 타입이란?**

프로그래밍 언어에서 제공하는 자료형(primitive type) 외에 프로그래머가 서로 관련된 변수들을 묶어서 하나의 타입으로 새로 추가하는 것을 말한다.

자바와 같은 객체지향언어에서는 클래스가 곧 사용자 정의 타입이다. 기본형의 개수는 8개[^2]로 정해져 있지만 참조형의 개수가 정해져 있지 않은 이유는 프로그래머가 새로운 타입을 추가할 수 있기 때문이다.

아래의 코드를 살펴보자

```java
// 비객체지향적 코드
int hour;       // 시간을 표현하기 위한 변수
int minute;     // 분을 표현하기 위한 변수
float second;   // 초를 표현하기 위한 변수 (1/100초까지 표현하기 위해 float으로 지정)
```

만일 3개의 시간을 다뤄야한다면 아래와 같이 표현해야할 것이다.

```java
// 비객체지향적 코드
int hour1, hour2, hour3;
int minute1, minute2, minute3;
float second1, second2, second3;
```

만일 시간의 개수가 더 늘어난다면 아래의 코드와 같이 배열로 처리할 수도 있겠다.

```java
// 비객체지향적 코드
int[] hour = new int[3];
int[] minute = new int[3];
float[] second = new float[3];
```

그러나 하나의 시간을 구성하는 시, 분, 초가 서로 분리되어 있기 때문에 프로그램 수행과정에서 시, 분, 초가 따로 뒤섞여서 올바르지 않은 데이터가 될 가능성이 있다. 이런 경우 시, 분, 초를 하나로 묶는 사용자 정의 타입, 즉 `클래스`를 정의하여 사용해야 한다.

```java
// 객체지향적 코드
class Time {
  int hour;
  int minute;
  float second;
}
```

이제 시, 분, 초가 하나의 단위로 묶여서 다루어지기 때문에 다른 시간 데이터와 섞일 일은 없겠지만, 

시간 데이터에는 <u>1. 시, 분, 초는 모두 0보다 크거나 같아야 한다.</u>  <u>2. 시의 범위는 0~23, 분과 초의 범위는 0~59이다.</u> 와 같은 추가적인 제약조건이 있다. 

객체지향언어가 아닌 언어에서는 이러한 추가 조건들을 반영하기 어렵다. 하지만 객체지향 언어에서는 ```제어자```와 ```메서드```를 이용해서 이러한 조건들을 코드에 쉽게 반영할 수 있다. 아래의 코드를 살펴보자.

<script src="https://gist.github.com/1eejisoo/7fd11a75367799182a1314c0239fdd47.js"></script>

`private`제어자를 이용해서 변수의 값을 직접 변경하지 못하도록 하고 대신 메서드를 통해서 값을 변경하도록 작성하였다. 값을 변경할 때 지정된 값의 유효성을 조건문으로 점검한 다음에 유효한 값일 경우에만 변경하므로 올바른 데이터만 저장될 수 있다.

<br>

## 각주

[^1]: 자신을 참조하고 있는 참조변수가 하나도 없는 인스턴스는 더 이상 사용되어질 수 없으므로 ``가비지 컬렉터``에 의해서 자동적으로 메모리에서 제거된다.
[^2]: `boolean`, `char`, `byte`, `short`, `int`, `long`, `float`, `double`로 기본형의 개수는 총 8개이다.
